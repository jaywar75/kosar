{% extends "account/base.html" %}
{% block content %}
<h2>Confirm User {{ mode|title }} Details</h2>

<p>Please review the details before finalizing.</p>

<!-- We’re using hidden fields to carry the data forward in the final POST. -->
<form method="POST" action="{{ url_for('account.user_confirm') }}">
  <ul>
    <li><strong>First Name:</strong> {{ first_name }}</li>
    <li><strong>Last Name:</strong> {{ last_name }}</li>
    <li><strong>Email:</strong> {{ email }}</li>
    <li><strong>Username:</strong> {{ username }}</li>
   <li>Password:
    {% if password %} (Will be updated) {% else %} (Unchanged) {% endif %}
  </li>
  <li>Associated Account:
    {% if selected_company_name %}
      {{ selected_company_name }}
    {% else %}
      (None Selected)
    {% endif %}
  </li>
</ul>

  <!-- Hidden Inputs to pass data into final POST -->
      <input type="hidden" name="first_name" value="{{ first_name }}">
      <input type="hidden" name="last_name" value="{{ last_name }}">
      <input type="hidden" name="email" value="{{ email }}">
      <input type="hidden" name="username" value="{{ username }}">
      <input type="hidden" name="password" value="{{ password }}">
      <input type="hidden" name="mode" value="{{ mode }}">
      <input type="hidden" name="selected_account_id" value="{{ selected_account_id }}">
  <!-- If it’s an edit, pass user_id -->
  {% if user_id %}
    <!-- The rest of your hidden fields: mode, user_id, etc. -->
    <input type="hidden" name="mode" value="{{ mode }}">
    <input type="hidden" name="user_id" value="{{ user_id }}">
  {% endif %}

  <button type="submit" class="btn btn-primary">
    Confirm &amp; Save
  </button>
  <a href="{{ url_for('account.user_list') }}" class="btn btn-secondary">
    Cancel
  </a>
</form>
{% endblock %}